Building GhostPDF+ Beta...
Building for production...
[0/4] Write sources
[1/4] Write swift-version--58304C5D6DBC2206.txt
[3/5] Compiling GhostPDF_ CitationFormatter.swift
/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3762:37: error: cannot find 'chatHistory' in scope
3760 |                                     .font(.headline)
3761 |                                 Spacer()
3762 |                                 if !chatHistory.isEmpty {
     |                                     `- error: cannot find 'chatHistory' in scope
3763 |                                     Button("Clear") {
3764 |                                         chatHistory.removeAll()

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3764:41: error: cannot find 'chatHistory' in scope
3762 |                                 if !chatHistory.isEmpty {
3763 |                                     Button("Clear") {
3764 |                                         chatHistory.removeAll()
     |                                         `- error: cannot find 'chatHistory' in scope
3765 |                                     }
3766 |                                     .font(.caption)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3777:44: error: cannot find 'chatHistory' in scope
3775 |                                 ScrollView {
3776 |                                     VStack(alignment: .leading, spacing: 12) {
3777 |                                         if chatHistory.isEmpty {
     |                                            `- error: cannot find 'chatHistory' in scope
3778 |                                             Text("Ask questions about your PDF. The AI will analyze the text to provide answers.")
3779 |                                                 .font(.caption)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3784:57: error: cannot find 'chatHistory' in scope
3782 |                                                 .padding(.top, 40)
3783 |                                         } else {
3784 |                                             ForEach(0..<chatHistory.count, id: \.self) { i in
     |                                                         `- error: cannot find 'chatHistory' in scope
3785 |                                                 let msg = chatHistory[i]
3786 |                                                 HStack(alignment: .top) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3785:59: error: cannot find 'chatHistory' in scope
3783 |                                         } else {
3784 |                                             ForEach(0..<chatHistory.count, id: \.self) { i in
3785 |                                                 let msg = chatHistory[i]
     |                                                           `- error: cannot find 'chatHistory' in scope
3786 |                                                 HStack(alignment: .top) {
3787 |                                                     if msg.role == "System" {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3821:47: error: cannot find 'chatHistory' in scope
3819 |                                 .cornerRadius(8)
3820 |                                 .overlay(RoundedRectangle(cornerRadius: 8).stroke(Color.gray.opacity(0.2), lineWidth: 1))
3821 |                                 .onChange(of: chatHistory.count) { _ in
     |                                               `- error: cannot find 'chatHistory' in scope
3822 |                                     if let last = chatHistory.indices.last {
3823 |                                         withAnimation {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3822:51: error: cannot find 'chatHistory' in scope
3820 |                                 .overlay(RoundedRectangle(cornerRadius: 8).stroke(Color.gray.opacity(0.2), lineWidth: 1))
3821 |                                 .onChange(of: chatHistory.count) { _ in
3822 |                                     if let last = chatHistory.indices.last {
     |                                                   `- error: cannot find 'chatHistory' in scope
3823 |                                         withAnimation {
3824 |                                             scrollProxy.scrollTo(last, anchor: .bottom)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3832:70: error: cannot find '$qnaInput' in scope
3830 |                             // Input Area
3831 |                             HStack {
3832 |                                 TextField("Ask a question...", text: $qnaInput)
     |                                                                      `- error: cannot find '$qnaInput' in scope
3833 |                                     .textFieldStyle(.roundedBorder)
3834 |                                     .disabled(isThinking || selectedFiles.isEmpty)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3834:47: error: cannot find 'isThinking' in scope
3832 |                                 TextField("Ask a question...", text: $qnaInput)
3833 |                                     .textFieldStyle(.roundedBorder)
3834 |                                     .disabled(isThinking || selectedFiles.isEmpty)
     |                                               `- error: cannot find 'isThinking' in scope
3835 |                                     .onSubmit {
3836 |                                         Task {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3837:51: error: cannot find 'performQnA' in scope
3835 |                                     .onSubmit {
3836 |                                         Task {
3837 |                                             await performQnA()
     |                                                   `- error: cannot find 'performQnA' in scope
3838 |                                         }
3839 |                                     }

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3843:47: error: cannot find 'performQnA' in scope
3841 |                                 Button(action: {
3842 |                                     Task {
3843 |                                         await performQnA()
     |                                               `- error: cannot find 'performQnA' in scope
3844 |                                     }
3845 |                                 }) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3846:40: error: cannot find 'isThinking' in scope
3844 |                                     }
3845 |                                 }) {
3846 |                                     if isThinking {
     |                                        `- error: cannot find 'isThinking' in scope
3847 |                                         ProgressView().controlSize(.small)
3848 |                                     } else {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3855:43: error: cannot find 'qnaInput' in scope
3853 |                                 }
3854 |                                 .buttonStyle(.plain)
3855 |                                 .disabled(qnaInput.isEmpty || isThinking || selectedFiles.isEmpty)
     |                                           `- error: cannot find 'qnaInput' in scope
3856 |                             }
3857 |                             .padding(.top, 8)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3855:63: error: cannot find 'isThinking' in scope
3853 |                                 }
3854 |                                 .buttonStyle(.plain)
3855 |                                 .disabled(qnaInput.isEmpty || isThinking || selectedFiles.isEmpty)
     |                                                               `- error: cannot find 'isThinking' in scope
3856 |                             }
3857 |                             .padding(.top, 8)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:3649:25: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
3647 |     }
3648 | 
3649 |     var body: some View {
     |                         `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
3650 |         ScrollView {
3651 |             VStack(spacing: 20) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:334:21: error: value of type 'LanguageModelSession.Response<String>' has no member 'text'
 332 |     let session = LanguageModelSession()
 333 |     let response = try await session.respond(to: prompt)
 334 |     return response.text
     |                     `- error: value of type 'LanguageModelSession.Response<String>' has no member 'text'
 335 | }
 336 | 

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:776:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 774 | 
 775 |     // First, try to extract DOI using unified logic
 776 |     var doi = await findDOI(in: doc, allowOnline: allowOnline) ?? ""
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 777 |     var arxivID = ""
 778 |     

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:936:9: warning: variable 'number' was never mutated; consider changing to 'let' constant
 934 |     var journal = "Unknown Journal"
 935 |     var volume = ""
 936 |     var number = ""
     |         `- warning: variable 'number' was never mutated; consider changing to 'let' constant
 937 |     var pages = ""
 938 |     var doi = extractedDOI // Use the DOI already extracted

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:938:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 936 |     var number = ""
 937 |     var pages = ""
 938 |     var doi = extractedDOI // Use the DOI already extracted
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 939 |     
 940 |     if let firstPage = doc.page(at: 0), let text = firstPage.string {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2478:9: warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2476 |     
2477 |     // 0. Try to find DOI using sophisticated logic
2478 |     var docDOI: String? = await findDOI(in: doc, allowOnline: allowOnline)
     |         `- warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2479 |     var docArXivID: String? = nil
2480 |     
