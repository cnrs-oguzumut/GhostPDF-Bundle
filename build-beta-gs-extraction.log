Building GhostPDF+ Beta...
Building for production...
[0/4] Write sources
[1/4] Write swift-version--58304C5D6DBC2206.txt
[3/5] Compiling GhostPDF_ CitationFormatter.swift
/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4505:14: error: consecutive statements on a line must be separated by ';'
4503 |                     }
4504 |                 }
4505 |             } else {
     |              `- error: consecutive statements on a line must be separated by ';'
4506 |                 await MainActor.run {
4507 |                     grammarText = "AI Grammar Check requires macOS 15.1 (Tahoe) or later."

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4505:15: error: expected expression
4503 |                     }
4504 |                 }
4505 |             } else {
     |               `- error: expected expression
4506 |                 await MainActor.run {
4507 |                     grammarText = "AI Grammar Check requires macOS 15.1 (Tahoe) or later."

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4521:5: error: attribute 'private' can only be used in a non-local scope
4519 | 
4520 |     @available(macOS 26.0, *)
4521 |     private func proofreadChunk(prompt: String) async -> String? {
     |     `- error: attribute 'private' can only be used in a non-local scope
4522 |         // This helper is now redundant as we reuse the session in the loop above
4523 |         return nil

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4527:5: error: attribute 'private' can only be used in a non-local scope
4525 | 
4526 | 
4527 |     private func extractTextFromPDF() {
     |     `- error: attribute 'private' can only be used in a non-local scope
4528 |         let checkedFiles = selectedFiles.filter { $0.isChecked }
4529 |         guard let file = checkedFiles.first else { return }

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4607:5: error: attribute 'private' can only be used in a non-local scope
4605 | 
4606 |     @available(macOS 26.0, *)
4607 |     private func generateAISummary(text: String, type: SummaryType) async -> String? {
     |     `- error: attribute 'private' can only be used in a non-local scope
4608 |         do {
4609 |             print("DEBUG - generateAISummary: Creating prompt...")

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4629:5: error: attribute 'private' can only be used in a non-local scope
4627 |     }
4628 | 
4629 |     private func createSummarizationPrompt(for type: SummaryType, text: String) -> String {
     |     `- error: attribute 'private' can only be used in a non-local scope
4630 |         // Clean text: remove citations and references
4631 |         let cleanedText = cleanTextForSummarization(text)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4686:5: error: attribute 'private' can only be used in a non-local scope
4684 |     }
4685 | 
4686 |     private func cleanTextForSummarization(_ text: String) -> String {
     |     `- error: attribute 'private' can only be used in a non-local scope
4687 |         var cleaned = text
4688 | 

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4711:5: error: attribute 'private' can only be used in a non-local scope
4709 |     }
4710 | 
4711 |     private func formatSummary(_ text: String, type: SummaryType) -> String {
     |     `- error: attribute 'private' can only be used in a non-local scope
4712 |         // Split into sentences and filter out citations and references
4713 |         let allSentences = text.components(separatedBy: ". ").filter { sentence in

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:6828:1: error: declaration is only valid at file scope
6826 | // MARK: - AI Q&A Logic
6827 | 
6828 | extension ContentView {
     | `- error: declaration is only valid at file scope
6829 |     @MainActor
6830 |     func performQnA() async {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:6874:1: error: declaration is only valid at file scope
6872 | // MARK: - Manual Region Extraction Logic
6873 | 
6874 | extension ContentView {
     | `- error: declaration is only valid at file scope
6875 |     @MainActor
6876 |     func saveManualRegions(for file: PDFFile, regions: [PageRegion]) async {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:7074:1: error: expected '}' in struct
3772 | }
3773 | 
3774 | struct AITabView: View {
     |                        `- note: to match this opening '{'
3775 |     @Binding var selectedFiles: [ContentView.PDFFile]
3776 |     @Binding var summaryType: SummaryType
     :
7072 |     }
7073 | }
7074 | 
     | `- error: expected '}' in struct

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:254:21: error: cannot find 'ModeCard' in scope
 252 |             HStack(spacing: 24) {
 253 |                 ForEach(MainMode.allCases) { mode in
 254 |                     ModeCard(
     |                     `- error: cannot find 'ModeCard' in scope
 255 |                         mode: mode,
 256 |                         isEmphasized: mode == .researcher,

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:446:29: error: cannot find 'ResearcherTabView' in scope
 444 |                                 .allowsHitTesting(selectedTab == 5)
 445 | 
 446 |                             ResearcherTabView(
     |                             `- error: cannot find 'ResearcherTabView' in scope
 447 |                                 selectedFiles: $selectedFiles,
 448 |                                 outputText: $researcherOutputText,

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:456:25: error: cannot find 'BibTeXFormatterView' in scope
 454 | 
 455 |                         // BibTeX tab enabled
 456 |                         BibTeXFormatterView(
     |                         `- error: cannot find 'BibTeXFormatterView' in scope
 457 |                             selectedFiles: $selectedFiles,
 458 |                             outputText: $bibFormatterOutputText,

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:524:31: error: cannot find 'saveManualRegions' in scope
 522 |                     // Process regions for this file
 523 |                     Task {
 524 |                         await saveManualRegions(for: firstFile, regions: regions)
     |                               `- error: cannot find 'saveManualRegions' in scope
 525 |                     }
 526 |                 }

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4022:44: error: missing argument for parameter 'url' in call
4020 |                     Button(action: {
4021 |                         activeAction = .summary
4022 |                         extractTextFromPDF()
     |                                            `- error: missing argument for parameter 'url' in call
4023 |                     }) {
4024 |                         HStack {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:691:6: note: 'extractTextFromPDF(url:password:)' declared here
 689 | }
 690 | 
 691 | func extractTextFromPDF(url: URL, password: String? = nil) -> String? {
     |      `- note: 'extractTextFromPDF(url:password:)' declared here
 692 |     guard let doc = PDFDocument(url: url) else { return nil }
 693 |     

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4055:29: error: cannot find 'saveConversation' in scope
4053 |                         Spacer()
4054 |                         Button("Save Chat") {
4055 |                             saveConversation()
     |                             `- error: cannot find 'saveConversation' in scope
4056 |                         }
4057 |                         .font(.caption)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4149:39: error: cannot find 'performQnA' in scope
4147 |                         .onSubmit {
4148 |                             Task {
4149 |                                 await performQnA()
     |                                       `- error: cannot find 'performQnA' in scope
4150 |                             }
4151 |                         }

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4155:35: error: cannot find 'performQnA' in scope
4153 |                     Button(action: {
4154 |                         Task {
4155 |                             await performQnA()
     |                                   `- error: cannot find 'performQnA' in scope
4156 |                         }
4157 |                     }) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4201:35: error: cannot find 'findRelatedWork' in scope
4199 |                     Button(action: {
4200 |                         Task {
4201 |                             await findRelatedWork()
     |                                   `- error: cannot find 'findRelatedWork' in scope
4202 |                         }
4203 |                     }) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4428:29: warning: initialization of immutable value 'pageBounds' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
4426 |                     
4427 |                     if let page = pdfDoc.page(at: pageIndex) {
4428 |                         let pageBounds = page.bounds(for: .mediaBox)
     |                             `- warning: initialization of immutable value 'pageBounds' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
4429 |                     // Use Ghostscript for high-quality text extraction
4430 |                     if let pageText = await extractTextWithGS(url: file.url, pageIndex: pageIndex), 

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:819:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 817 | 
 818 |     // First, try to extract DOI using unified logic
 819 |     var doi = await findDOI(in: doc, allowOnline: allowOnline) ?? ""
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 820 |     var arxivID = ""
 821 |     

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:979:9: warning: variable 'number' was never mutated; consider changing to 'let' constant
 977 |     var journal = "Unknown Journal"
 978 |     var volume = ""
 979 |     var number = ""
     |         `- warning: variable 'number' was never mutated; consider changing to 'let' constant
 980 |     var pages = ""
 981 |     var doi = extractedDOI // Use the DOI already extracted

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:981:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 979 |     var number = ""
 980 |     var pages = ""
 981 |     var doi = extractedDOI // Use the DOI already extracted
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 982 |     
 983 |     if let firstPage = doc.page(at: 0), let text = firstPage.string {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2524:9: warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2522 |     
2523 |     // 0. Try to find DOI using sophisticated logic
2524 |     var docDOI: String? = await findDOI(in: doc, allowOnline: allowOnline)
     |         `- warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2525 |     var docArXivID: String? = nil
2526 |     
