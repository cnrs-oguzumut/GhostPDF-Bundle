=========================================
Building CleverGhost for Mac App Store
=========================================
Bundle ID: com.cleverghost.app
Version: 1.1.0 (1)
Building release binary...
Building for production...
[0/4] Write sources
[1/4] Write swift-version--58304C5D6DBC2206.txt
[3/5] Compiling CleverGhost CitationFormatter.swift
/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:895:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 893 | 
 894 |     // First, try to extract DOI using unified logic
 895 |     var doi = await findDOI(in: doc, allowOnline: allowOnline) ?? ""
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 896 |     var arxivID = ""
 897 |     

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:1055:9: warning: variable 'number' was never mutated; consider changing to 'let' constant
1053 |     var journal = "Unknown Journal"
1054 |     var volume = ""
1055 |     var number = ""
     |         `- warning: variable 'number' was never mutated; consider changing to 'let' constant
1056 |     var pages = ""
1057 |     var doi = extractedDOI // Use the DOI already extracted

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:1057:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
1055 |     var number = ""
1056 |     var pages = ""
1057 |     var doi = extractedDOI // Use the DOI already extracted
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
1058 |     
1059 |     if let firstPage = doc.page(at: 0), let text = firstPage.string {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2600:9: warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2598 |     
2599 |     // 0. Try to find DOI using sophisticated logic
2600 |     var docDOI: String? = await findDOI(in: doc, allowOnline: allowOnline)
     |         `- warning: variable 'docDOI' was never mutated; consider changing to 'let' constant
2601 |     var docArXivID: String? = nil
2602 |     
[3/5] Write Objects.LinkFileList
[4/5] Linking CleverGhost
Build complete! (39.66s)

Processing Icon...
Using CleverGhost.icns...

Preparing Ghostscript bundle...
=========================================
Preparing Ghostscript for Bundling
=========================================
Ghostscript is already installed via Homebrew
Ghostscript prefix: /opt/homebrew/opt/ghostscript

Copying Ghostscript binary...
Copying shared libraries (including all dependencies)...
  Copying: libjbig2dec.0.dylib
  Copying: libtiff.6.dylib
  Copying: libzstd.1.dylib
  Copying: liblzma.5.dylib
  Copying: libjpeg.8.dylib
  Copying: libpng16.16.dylib
  Copying: liblcms2.2.dylib
  Copying: libidn.12.dylib
  Copying: libfontconfig.1.dylib
  Copying: libfreetype.6.dylib
  Copying: libintl.8.dylib
  Copying: libopenjp2.7.dylib
  Copying: libtesseract.5.dylib
  Copying: libleptonica.6.dylib
  Copying: libgif.dylib
  Copying: libwebp.7.dylib
  Copying: libsharpyuv.0.dylib
  Copying: libwebpmux.3.dylib
  Copying: libarchive.13.dylib
  Copying: liblz4.1.dylib
  Copying: libb2.1.dylib
  Copying: libgpcl6.10.06.dylib
  Copying: libgpcl6.10.dylib
  Copying: libgpcl6.dylib
  Copying: libgpdl.10.06.dylib
  Copying: libgpdl.10.dylib
  Copying: libgpdl.dylib
  Copying: libgs.10.06.dylib
  Copying: libgs.10.dylib
  Copying: libgs.dylib
  Copying: libgxps.10.06.dylib
  Copying: libgxps.10.dylib
  Copying: libgxps.dylib
Copying Ghostscript resources...

Updating library paths in binary...
Processing gs binary dependencies...
  Relinking: libjbig2dec.0.dylib
  Relinking: libtiff.6.dylib
  Relinking: libpng16.16.dylib
  Relinking: libjpeg.8.dylib
  Relinking: liblcms2.2.dylib
  Relinking: libidn.12.dylib
  Relinking: libfontconfig.1.dylib
  Relinking: libfreetype.6.dylib
  Relinking: libopenjp2.7.dylib
  Relinking: libtesseract.5.dylib
  Relinking: libarchive.13.dylib
  Relinking: libleptonica.6.dylib
Processing library interdependencies...

Re-signing binaries after modification...

Verifying binary...
ghostscript-bundle/bin/gs: Mach-O 64-bit executable arm64
Non-fat file: ghostscript-bundle/bin/gs is architecture: arm64

=========================================
Ghostscript Bundle Ready!
=========================================

Bundle location: ghostscript-bundle
Binary: ghostscript-bundle/bin/gs
Libraries: ghostscript-bundle/lib/
Resources: ghostscript-bundle/share/

This bundle will be included in the app during build.

Copying Ghostscript bundle to app...
Ghostscript bundle copied to build-mas/CleverGhost.app/Contents/Resources/ghostscript

Signing Ghostscript binaries and libraries...
  Signing: libarchive.13.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libarchive.13.dylib: replacing existing signature
  Signing: libb2.1.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libb2.1.dylib: replacing existing signature
  Signing: libfontconfig.1.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libfontconfig.1.dylib: replacing existing signature
  Signing: libfreetype.6.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libfreetype.6.dylib: replacing existing signature
  Signing: libgif.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgif.dylib: replacing existing signature
  Signing: libgpcl6.10.06.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpcl6.10.06.dylib: replacing existing signature
  Signing: libgpcl6.10.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpcl6.10.dylib: replacing existing signature
  Signing: libgpcl6.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpcl6.dylib: replacing existing signature
  Signing: libgpdl.10.06.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpdl.10.06.dylib: replacing existing signature
  Signing: libgpdl.10.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpdl.10.dylib: replacing existing signature
  Signing: libgpdl.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgpdl.dylib: replacing existing signature
  Signing: libgs.10.06.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgs.10.06.dylib: replacing existing signature
  Signing: libgs.10.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgs.10.dylib: replacing existing signature
  Signing: libgs.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgs.dylib: replacing existing signature
  Signing: libgxps.10.06.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgxps.10.06.dylib: replacing existing signature
  Signing: libgxps.10.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgxps.10.dylib: replacing existing signature
  Signing: libgxps.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libgxps.dylib: replacing existing signature
  Signing: libidn.12.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libidn.12.dylib: replacing existing signature
  Signing: libintl.8.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libintl.8.dylib: replacing existing signature
  Signing: libjbig2dec.0.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libjbig2dec.0.dylib: replacing existing signature
  Signing: libjpeg.8.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libjpeg.8.dylib: replacing existing signature
  Signing: liblcms2.2.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/liblcms2.2.dylib: replacing existing signature
  Signing: libleptonica.6.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libleptonica.6.dylib: replacing existing signature
  Signing: liblz4.1.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/liblz4.1.dylib: replacing existing signature
  Signing: liblzma.5.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/liblzma.5.dylib: replacing existing signature
  Signing: libopenjp2.7.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libopenjp2.7.dylib: replacing existing signature
  Signing: libpng16.16.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libpng16.16.dylib: replacing existing signature
  Signing: libsharpyuv.0.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libsharpyuv.0.dylib: replacing existing signature
  Signing: libtesseract.5.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libtesseract.5.dylib: replacing existing signature
  Signing: libtiff.6.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libtiff.6.dylib: replacing existing signature
  Signing: libwebp.7.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libwebp.7.dylib: replacing existing signature
  Signing: libwebpmux.3.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libwebpmux.3.dylib: replacing existing signature
  Signing: libzstd.1.dylib
build-mas/CleverGhost.app/Contents/Resources/ghostscript/lib/libzstd.1.dylib: replacing existing signature
  Signing: gs binary
build-mas/CleverGhost.app/Contents/Resources/ghostscript/bin/gs: replacing existing signature

Signing main app bundle with sandboxing entitlements...
build-mas/CleverGhost.app: replacing existing signature
Verifying signature...
build-mas/CleverGhost.app: valid on disk
build-mas/CleverGhost.app: satisfies its Designated Requirement

Creating installer package...
productbuild: Adding component at /Users/usalman/pdf_compressor_store/NanoPDF-Complete/build-mas/CleverGhost.app
productbuild: Signing product with identity "3rd Party Mac Developer Installer: Lale Taneri (UM63FN2P72)" from keychain /Users/usalman/Library/Keychains/login.keychain-db
productbuild: Adding certificate "Apple Worldwide Developer Relations Certification Authority"
productbuild: Adding certificate "Apple Root CA"
productbuild: Wrote product to dist/CleverGhost-1.1.0-MAS.pkg
productbuild: Supported OS versions: [Min: 13.0, Before: None]

=========================================
Build Complete!
=========================================
App bundle: build-mas/CleverGhost.app
Installer: dist/CleverGhost-1.1.0-MAS.pkg

This package is ready for Mac App Store submission via App Store Connect.

Next steps:
1. Upload PKG to App Store Connect using Transporter
2. Complete app metadata in App Store Connect
3. Submit for review

