Building GhostPDF+ Beta...
Building for production...
[0/4] Write sources
[1/4] Write swift-version--58304C5D6DBC2206.txt
[3/5] Compiling GhostPDF_ CitationFormatter.swift
/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4386:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
4384 |         do {
4385 |             outputText = reformatBibTeX(outputText, options: opts)
4386 |         } catch {
     |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
4387 |             print("Error reformatting: \(error)")
4388 |         }

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/ContentView.swift:4422:50: error: type 'PDFCompressor' has no member 'shared'
4420 |                 // We'll use PDFCompressor.shared.extractBibTeX
4421 |                 
4422 |                 if let bib = await PDFCompressor.shared.extractBibTeX(from: file.url) {
     |                                                  `- error: type 'PDFCompressor' has no member 'shared'
4423 |                     if let entry = parseBibTeXToMetadata(bib) {
4424 |                         let newName = generateFilename(author: entry.author, year: entry.year, title: entry.title)

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:452:9: warning: variable 'offlineBib' was never mutated; consider changing to 'let' constant
 450 | 
 451 |     // Always do offline extraction first (your clean format)
 452 |     var offlineBib = extractBibTeXOffline(url: url, doc: doc, extractedDOI: doi)
     |         `- warning: variable 'offlineBib' was never mutated; consider changing to 'let' constant
 453 | 
 454 |     // If online lookup is allowed and we have a DOI, enhance with metadata from CrossRef

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:474:17: warning: variable 'titleIsSuspicious' was written to, but never read
 472 |             ]
 473 | 
 474 |             var titleIsSuspicious = false
     |                 `- warning: variable 'titleIsSuspicious' was written to, but never read
 475 |             for pattern in suspiciousTitlePatterns {
 476 |                 if bib.range(of: pattern, options: [.regularExpression, .caseInsensitive]) != nil {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:613:9: warning: variable 'number' was never mutated; consider changing to 'let' constant
 611 |     var journal = "Unknown Journal"
 612 |     var volume = ""
 613 |     var number = ""
     |         `- warning: variable 'number' was never mutated; consider changing to 'let' constant
 614 |     var pages = ""
 615 |     var doi = extractedDOI // Use the DOI already extracted

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:615:9: warning: variable 'doi' was never mutated; consider changing to 'let' constant
 613 |     var number = ""
 614 |     var pages = ""
 615 |     var doi = extractedDOI // Use the DOI already extracted
     |         `- warning: variable 'doi' was never mutated; consider changing to 'let' constant
 616 |     
 617 |     if let firstPage = doc.page(at: 0), let text = firstPage.string {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:782:9: warning: variable 'finalJournal' was never mutated; consider changing to 'let' constant
 780 | 
 781 |     // Clean up journal name (remove common webpage artifacts)
 782 |     var finalJournal = journal
     |         `- warning: variable 'finalJournal' was never mutated; consider changing to 'let' constant
 783 |         .replacingOccurrences(of: #"\s*journal homepage.*$"#, with: "", options: [.regularExpression, .caseInsensitive])
 784 |         .replacingOccurrences(of: #"\s*Received date.*$"#, with: "", options: [.regularExpression, .caseInsensitive])

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2465:25: warning: initialization of immutable value 'cleanTitle' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
2463 |                     // Normalize: lowercase, remove non-alphanumeric
2464 |                     let cleanContext = context.lowercased().components(separatedBy: CharacterSet.alphanumerics.inverted).joined()
2465 |                     let cleanTitle = resultTitle.lowercased().components(separatedBy: CharacterSet.alphanumerics.inverted).joined()
     |                         `- warning: initialization of immutable value 'cleanTitle' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
2466 |                     
2467 |                     // HEURISTIC: Check if significant chunks of the result title exist in the context blob.

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2490:20: warning: immutable value 'ry' was never used; consider replacing with '_' or removing it [#no-usage]
2488 |             
2489 |             // Retry with minimal query if full query failed
2490 |             if let ry = refYear, let ra = refAuthor, refText.count > 50 {
     |                    `- warning: immutable value 'ry' was never used; consider replacing with '_' or removing it [#no-usage]
2491 |                 // Use capitalized author for minimal query to ensure it's treated as a name in the recursive call
2492 |                 if let minimalQuery = "\(refAuthor ?? "") \(refYear ?? "")".addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2490:38: warning: immutable value 'ra' was never used; consider replacing with '_' or removing it [#no-usage]
2488 |             
2489 |             // Retry with minimal query if full query failed
2490 |             if let ry = refYear, let ra = refAuthor, refText.count > 50 {
     |                                      `- warning: immutable value 'ra' was never used; consider replacing with '_' or removing it [#no-usage]
2491 |                 // Use capitalized author for minimal query to ensure it's treated as a name in the recursive call
2492 |                 if let minimalQuery = "\(refAuthor ?? "") \(refYear ?? "")".addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed) {

/Users/usalman/pdf_compressor_store/NanoPDF-Complete/Sources/PDFCompressor.swift:2897:9: warning: variable 'cleaned' was never mutated; consider changing to 'let' constant
2895 | private func parseReferenceText(_ text: String) -> (authors: String, title: String, journal: String?, year: String?)? {
2896 |     // Remove numbering
2897 |     var cleaned = text.replacingOccurrences(of: #"^\[\d+\]|\d+\."#, with: "", options: .regularExpression)
     |         `- warning: variable 'cleaned' was never mutated; consider changing to 'let' constant
2898 |         .trimmingCharacters(in: .whitespaces)
2899 |     
